@model IEnumerable<PortafolioEPIS.Models.GoogleModels.GoogleDriveFiles>
    @{Layout = null;
        string nombre = null;

        }
<h2>@nombre</h2>

@using (Html.BeginForm("CreateFolder", "GoogleFile", FormMethod.Post))
{
    <p>
        Folder Name :<input type="text" name="FolderName" id="txtFolderName" style="align-content:center" />
        Folder Carpeta :<input type="text" name="IdCarpeta" id="txtCarpeta" value="@ViewBag.foldeId" style="align-content:center"hidden />

        <input type="submit" class="CreateFolder" value="Create Folder" style="align-content:center" />
    </p>
}

@using (Html.BeginForm("FileUploadInFolder", "GoogleFile", FormMethod.Post, new { enctype = "multipart/form-data" }))
{
    <p>
    <label>File Upload in Root :</label>
    <input type="file" name="file" id="file" style="width:176px;" />
    Folder Carpeta :<input type="text" name="FolderId" id="txtCarpeta" value="@ViewBag.foldeId" style="align-content:center" hidden/>
    <input type="submit" value="Upload" />
</p>
}
<center>
    <br><br>
    @if (Model.Count() > 0)
    {


        <table class="imagetable">
            <tr>
                <th>
                    @Html.DisplayNameFor(model => model.Name)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Size)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Version)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.CreatedTime)
                </th>
                <th>
                    Download
                </th>
                <th>
                    Delete
                </th>
            </tr>

            @foreach (var item in Model)
            {

                string FileSize = string.Empty;
                string Type = string.Empty;
                if (@item.Size != null)
                {
                    long? KiloByte = @item.Size;
                    FileSize = KiloByte + " bytes";
                }
            <tr>
                <td>
                    @if (@item.Size == null)
                    {
                    <a href="@Url.Action("GetGoogleDriveFiles", "GoogleFile", new { FolderId = item.Id, NameCarpeta=item.Name })"><img src="~/Imagen/carpeta.png" width="15px" height="15px" /> @item.Name</a>
                       

                    }
                    else
                    { @item.Name}
                </td>
                <td>
                    @FileSize
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Version)
                </td>
                <td>
                    @string.Format("{0: MM/dd/yyyy}", Convert.ToDateTime(Html.DisplayFor(modelItem => item.CreatedTime).ToString()))
                </td>
                <td>
                    @if (@item.Size != null)
                    {
                        <a href="/GoogleFile/DownloadFile/@item.Id">Descargar</a>
                    }

                </td>
                <td>
                    @using (Html.BeginForm("DeleteFile", "GoogleFile", FormMethod.Post, new { enctype = "multipart/form-data" }))
                    {
                        <input type="hidden" name=Id value="@item.Id">
                        <input type="hidden" name=FolderId value="@ViewBag.foldeId">
                        <input type="submit" class="DeleteFile" value="Delete" style="align-content:center" />
                    }

                </td>
            </tr>
            }
        </table>
    }
    else
    {
        <table class="imagetable">
            <tr>
                <th>
                    @Html.DisplayNameFor(model => model.Name)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Size)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Version)
                </th>
                <th>
                    Created Time
                </th>
            </tr>
            <tr><td colspan="4">No records found</td></tr>
        </table>
    }

    @Html.ActionLink("Back", "GetGoogleDriveFiles")
</center>




